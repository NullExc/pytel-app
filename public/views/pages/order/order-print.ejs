<!DOCTYPE html>
<html>

<head>
    <% include ../../partials/header.ejs %>
    <script type="text/javascript">

        var order = JSON.parse('<%- JSON.stringify(detail.order) %>');
        var customer = JSON.parse('<%- JSON.stringify(detail.customer) %>');
        var workType = JSON.parse('<%- JSON.stringify(detail.workType) %>');
        var orderType = JSON.parse('<%- JSON.stringify(detail.orderType) %>');
        var facilities = JSON.parse('<%- JSON.stringify(detail.customerFacilities) %>');

        var edit = true;
    </script>
    <script type="text/javascript" src="/dist/order.js"></script>
    <script type="text/javascript" src="/dist/order-state.js"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/order/order.css" media="all" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/datepicker.css" media="all" />
    <style>
        @media print {
            #print-header {
                text-align: center;
            }

            #print-footer {
                margin-top: 50px;
            }

            .print-panel {
                border: 2px solid black;
            }

            .sign-line {
                border-top: dotted;
                text-align: center;
            }

            .print-image {
                display: block;
                margin-left: auto;
                margin-right: auto;
                width: 30%;
            }

            .grey-text {
                font-size: 15px;
            }

            p {
                font-size: 18px;
            }

            h5 {
                margin: 3px !important;
            }

            .divider {
                height: 1px;
                overflow: hidden;
                background-color: #e0e0e0 !important;
                margin: 5px 0 5px 0 !important;
            }

            .section-header {
                background-color: #757575 !important;
            }

            body {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact;

                display: flex;
                min-height: 100vh;
                flex-direction: column;
            }

            main {
                flex: 1 0 auto;
            }

            .container {
                width: 100% !important;
            }
        }
    </style>
</head>

<body ng-app="Order" ng-controller="OrderCtrl">

    <!--<div class="row">-->

    <header>

    </header>

    <main>
        <div class="container">

            <div class="row col s12 panel">
                <div class="col s12 center-align">
                    <div>
                        <img src="/pap_logo_black.png" width="100" height="60" class="print-image">
                        <h5 class="black-text">Dušan Pytel PaP</h5>
                        <h5 class="black-text">www.papdp.sk</h5>
                        <h5 class="black-text">E-mail: info@papdp.sk</h5>
                        <h5 class="black-text">Areál ŠM Stráže, Poprad</h5>
                        <h5 class="black-text">Tel.:+421 52 77 31 711, +421 905 311 248</h5>
                    </div>
                </div>
                <div class="col s12">
                    <h2 id="print-header">Zákazkový list</h5>
                </div>
            </div>

            <div class="row col s12">
                <div class="col s12">
                    <div class="section-header col s12">
                        <h5 class="white-text">Informácie</h5>
                    </div>
                    <div class="col s6">
                        <div class="section">
                            <h6 class="grey-text">Názov zákazky</h6>
                            <div class="divider"></div>
                            <p>{{order.description ? order.description: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section">
                            <h6 class="grey-text">Približná cena opravy</h6>
                            <div class="divider"></div>
                            <p>{{order.price ? order.price: '&nbsp;'}}&ensp;€</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Typ práce</h6>
                            <div class="divider"></div>
                            <p>{{workType.name ? workType.name: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Typ zákazky</h6>
                            <div class="divider"></div>
                            <p>{{orderType.name ? orderType.name: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s12">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Poznámky</h6>
                            <div class="divider"></div>
                            <p>{{order.notes ? order.notes: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s12">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Príslušenstvo</h6>
                            <div class="divider"></div>
                            <p>{{facilitiesString ? facilitiesString: '&nbsp;'}}</p>
                        </div>
                    </div>
                </div>
                <div class="col s12">
                    <div class="section-header col s12">
                        <h5 class="white-text">Zákazník</h5>
                    </div>
                    <div class="col s12">
                        <div class="section">
                            <h6 class="grey-text">Meno</h6>
                            <div class="divider" style="width: 50%;"></div>
                            <p>{{customer.fullName ? customer.fullName: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Mobil</h6>
                            <div class="divider"></div>
                            <p>{{order.contact.phone ? order.contact.phone: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">E-mail</h6>
                            <div class="divider"></div>
                            <p>{{order.contact.email ? order.contact.email: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Ulica</h6>
                            <div class="divider"></div>
                            <p>{{order.address.street ? order.address.street: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Číslo ulice</h6>
                            <div class="divider"></div>
                            <p>{{order.address.streetNumber ? order.address.streetNumber: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">Mesto</h6>
                            <div class="divider"></div>
                            <p>{{order.address.city ? order.address.city: '&nbsp;'}}</p>
                        </div>
                    </div>
                    <div class="col s6">
                        <div class="section no-pad-top">
                            <h6 class="grey-text">PSČ</h6>
                            <div class="divider"></div>
                            <p>{{order.address.zipCode ? order.address.zipCode: '&nbsp;'}}</p>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </main>

    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col s12">
                    <div class="col s3">
                        <div>
                            <p>Dátum vyhotovenia</p>
                            <p>{{date | date:'dd.MM.yyyy'}}</p>
                        </div>
                    </div>
                    <div class="col s6 offset-s3">
                        <div class="col s5 sign-line">
                            <p>Podpis zákazníka</p>
                        </div>
                        <div class="col s5 offset-s1 sign-line">
                            <p>Prevzaté dňa</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--</div>-->
</body>

</html>